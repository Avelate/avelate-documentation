# Пятизвённая архитектура

1. Клиент состоит из:
    1.1. Клиентская бизнес-логика - описывает дисплеи, компоненты и бизнес-логики, которая относится к конкретному бизнес-приложению.
    1.2. Клиентское ядро - описывает абстрактный функционал, который может быть переиспользован в различных бизнес-приложениях.

2. Сервер рендеринга - отвечает за фоновую генерацию статический страниц в случае SSG, пререндер и SSR, а также выступает Proxy для CSR.

3. Сервер вычислений состоит из:
    3.1. Серверное ядро - описывает абстрактный функционал, который может быть переиспользован в различных серверных бизнес-приложениях.
    3.2. Серверная бизнес-логика - описывает доменные области конкретных сущностей, который относятся к конкретному бизнес-приложению.


## Клиент

Клиент состоит из двух частей - бизнес-логики и ядра

### Бизнес логика

Бизнес логика состоит из:
    - Шаблонов - описывающие структуру страницы.
    - Дисплеи - являются или полноценными страницами или лишь контентом в рамках конкретного шаблона.
    - Ассеты - статические файлы, которые не будут изменены в рамках жизни приложения.
    - Компоненты - основные блоки любого дисплея или шаблона.

### Клиентское ядро

Ядро описывает функционал:
    - работу с веб-сокетами
    - работа с переводами
    - работа с IndexDB / LocalStorage / SessionStorage
    - оперирование сессий
    - обработка токенов
    - и т.д.

## Сервер рендеринга

Сервер рендеринга отвечает за:
    - Server Side Rendering
    - Server Site Generation
    - Proxy for Client Side Rendering

Помимо основних задач, сервер также:
    - Ведёт активный мониторинг с помощью Prometheus + Grafana.
    - Пишет логи в Elasticsearct / logstash / kibana.
    - Пишет логи в файли и в консоль.
    - Пишет ошибки в Sentry.
    - Измеряет производительность каждого запроса с помощью Jaeger.
    - Основан на stateless микросервисах работающий через NATS.
    - Поддерживает переменные окружения и их изменения без перезагрузки сервера.
    - Поддержка кеширования HTML блоков с помощью Redis
    - Отдача статики и контроль её через Redis с помощью валидации кеша и графа зависимостей этого кеша.
    - Поддерживает основные паттерны отказоустойчивости: 
        - Rate limit с помощью Sliding Window
        - Deadlines
        - Circuit Breaker
        - Retry

## Сервер вычислений


Сервер вычислений состоит из двух частей:

### Серверное ядро 

Серверное ядро предназначенное для инкапсуляции в себе 