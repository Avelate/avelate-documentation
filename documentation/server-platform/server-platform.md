# Загальний опис
 
На базовому рівні ядро серверної платформи поділено на області призначення, в які входять різні модулі, 
що дозволяє з самого початку визначити обмеження та місце влаштування, як існуючих так і нових модулів ядра. 
Це також дозволяє горизонтально масштабувати функціонал ядра.

Cтруктура ядра:

```
.
├── abstract-documents 
|     ├── abstract.application-list.ts 
|     ├── abstract.application.ts 
|     ├── abstract.collector.ts 
|     ├── abstract.controller.ts 
|     ├── abstract.[document-type].ts 
├── adapters
|     ├── frameworks 
|     |    ├── abstract.framework.adapter.ts 
|     |    ├── express.framework.adapter.ts 
|     |    ├── fastify.framework.adapter.ts 
|     |    ├── [framework-name].framework.adapter.ts 
|     ├── protocols 
|     |    ├── abstract.protocol.adapter.ts 
|     |    ├── http.protocol.adapter.ts 
|     |    ├── web-socket.protocol.adapter.ts 
|     |    ├── [protocol-name].protocol.adapter.ts 
├── agents
|     ├── base-operation.agent.ts 
|     ├── business-logic.agent.ts 
|     ├── integration.agent.ts 
|     ├── [agent-name].agent.ts 
├── base-operations
|     ├── base.swagger.ts 
|     ├── [operation-name].[document-type].ts 
├── common
|     ├── color.common.ts 
|     ├── emoji.common.ts 
|     ├── http-code.common.ts 
|     ├── [common-name].common.ts 
├── connections
|     ├── abstract.connection.ts 
|     ├── database.connection.ts 
|     ├── server.connection.ts 
|     ├── [element-name].connection.ts 
├── factories
|     ├── abstract.factory.ts 
|     ├── database.factory.ts 
|     ├── framework.factory.ts 
|     ├── transport.factory.ts 
|     ├── [factory-name].factory.ts 
├── integrations
|     ├── abstract.integration.ts 
|     ├── firebase.integration.ts 
|     ├── telegram.integration.ts 
|     ├── [integration.name].integration.ts 
├── ioc
|     ├── ioc.core.symbols.ts 
|     ├── ioc.core.ts 
|     ├── ioc.ts 
├── loaders
|     ├── asyncapi.loader.ts 
|     ├── swagger.loader.ts 
|     ├── schema.loader.ts 
|     ├── [loader-name].loader.ts 
├── managers
|     ├── core.manager.ts 
|     ├── business.manager.ts 
|     ├── [manager-name].manager.ts 
├── providers
|     ├── error.provider.ts 
|     ├── i10n.provider.ts 
|     ├── mail.provider.ts 
|     ├── [provider-name].provider.ts 
├── services
|     ├── abstract.service.ts 
|     ├── configuration.service.ts 
|     ├── factory.service.ts 
|     ├── logger.service.ts 
|     ├── [service.name].service.ts 
├── strategies
|     ├── authorizations 
|     |     ├── abstract.auth.strategy.ts 
|     |     ├── twitter.auth.strategy.ts 
|     |     ├── facebook.auth.strategy.ts 
|     |     ├── github.auth.strategy.ts 
|     |     ├── [auth-strategy-name].auth.strategy.ts 
|     ├── cloud-storages 
|     |     ├── abstract.cloud-storage.strategy.ts 
|     |     ├── s3.cloud-storage.strategy.ts 
|     |     ├── [cloud-storage-strategy-name].cloud-storage.strategy.ts 
|     ├── payments 
|     |     ├── abstract.payment.strategy.ts 
|     |     ├── stripe.payment.strategy.ts 
|     |     ├── [payment-type].payment.strategy.ts 
|     ├── deliveries 
|     |     ├── abstract.delivery.strategy.ts 
|     |     ├── nova-poshta.delivery.strategy.ts 
|     |     ├── {{delivery-name}}.delivery.strategy.ts 
├── initiator.ts
├── server.ts
├── vendor.ts
```

На данний момент масштабування вниз здійснюється завдяки фабрикам, в яких конфігураються той чи інший ряд 
адаптерів, транспортів та ін. В разі суттєвого збільшення кількості фабрик під віповідну суттєву кількість модулів 
окремої області призначення будуть створені фасади, які будуть інкапсулювати послідовність ініціалізації та обробку фабрик, 
надаючи на поверхню простий інтерфейс конфігурації цілого класу тих чи інших фабрик.

Масштабування вгору відбувається поділом областей призначення на області реалізації. Так область призначення стратегій 
мають області реалізацій - ряд стратегій, які реалізовують сховища, оплати чи авторизацію.

> [!NOTE]
> Таким чином ядро підтримує прозорий та керований вид масштабування, як в горизонталь так і вертикаль.

<h3>Області призначення ядра </h3>

<br/>

| Область призначення | Належність | Тип ініціалізації | Опис |
| :-----: | :----: | :----: | :---- |
| abstract-documents | - | - | Абстрактні документи є абстрактними класами. Кожний документ бізнес-логіки повинен наслідуватись від абстрактних документів. Завдяки цьому створюється декларативність окремих документів, при створені та описі бізнес-логіки, а також декларативно створюється загальна схема бізнес-логіки.<br/><br/> Не мають екземплярів та конфігураційних файлів |
| Adapters | Factories | Singleton | Адаптери призначені для перетворення загальної схеми бізнес-логіки під конкретний конкретний фреймворк, протокол і т.д. <br/><br/> Адаптери просуваються в фабрику відповідних адаптерів (для фреймворків це фабрика фреймворків і т.д.), де завдяки конфігураційним файлам, визначається та створюється фабрикою необхідний фреймворк з повною реалізацією схеми бізнес-логіки. <br/><br/>Містять конфігураційні змінні, які можуть бути змінені під час роботи сервера та без потреби його перезапуску.
| agents | - | Singleton | Агенти виступають проміжним інтерфейсом надання абстрактого функціоналу бізнес логіки. Поділяються по різновиду абстрактного функціоналу - внутрішній функціонал ядра інтегрований в агента бізнес логіки, функціонал інтеграцій - в агента інтеграцій, абстрактні документи в агенті наслідування і т.д. <br></br/>Не мають конфігураційних файлів.
| base-operations | - | - | Такий функціонал, як авторизація, CRUD операції та інші, пагінація та інші є функціоналом бізнес-логіки, який перетікає з застосунку до застосунку, щоб не дублювати і не копіювати код, ядро інкапсулює в собі реалізію такого функціоналу іменуючу його базові операції `base operations`. <br/><br/> Кожна операція це окрема, стрілочна функція, яка не має внутрішнього контексту та не потребує ініціалізації певного класу. Таким чином при створені бізнес-логіки контекст логіки не може бути втрачений або змінений базовими операціями. <br/><br/>. Не містить конфігураційних файлів |
| common | - | - | Включає в собі перечислення HTTP кодів, кольорів або емоджі | 
| connections | Initiator | Singleton | Конектори є незалежними елементами серверного ядра. Кожний елемент працює в окремі областій пам'яті та підключається по мережі з відповідним протоколом, хостом та портом. <br/><br/> Містять конгігураційні файли, які не можуть бути змінені під чаc роботи сервера | 
| factories | - | Singleton | - |
| integrations | - | Singleton | - |
| ioc | - | - | Є збірним контейнером інверсії залежностей серверної платформи, в яку входить - контейнер серверного ядра описане в цій області призначення, та контейнер всіх модулів бізнес-логіки, який імпортується за шляхом. <br/><br/> Не містить конфігураційних файлів та не можуть бути змінені під час роботи серверу. |
| loaders | facroties | Sigleton | Завантажувачі призначені для формування схем бізнес-логіки, документації бізнес-логіки та ін. В послідуючому результуюча схема надається відповідному адаптеру для перетворення загальної схеми в результуючих вигляд. <br/><br/> Можуть містити конфігураційні файли, які не можуть бути змінені під час роботи серверу. |
| managers | - | Singleton | - |
| providers | - | Transient | Провайдери призначені для інкапсуляції та реалізації в рамках конкретного модуля сторонніх чи вбудованих в Node.js бібліотек та їх методів. <br/><br/> Можуть міститит конфігураційні файли, які вичитуються при кожному звернені до провайдера, оскільки тип його ініціалізації - `Transient`. |
| services | - | Singleton | Сервіси призначені для інкапсуляції та реалізації функціоналу, який потребує постійної роботи та знаходження постійного, одного екземпляра в пам'яті, оскільки логіка їх роботи потребує постійної взаємодії з внутрішньою пам'яттю серверу. <br/><br/> Містять конфігураційні файли, які можуть бути змінені під час роботи сервера. |
| strategies | factories | Singleton | Стратегії призначені для реалізації різних варіантів вирішення одних і тих ж проблем різними джерела, наприклад різні хмарні сховища, різні стратегії авторизації чи оплати. <br/><br/> Містять конфігураційні файли, які можуть бути змінені під час роботи сервера. | 
| initiator | - | Request | Ініціатор призначений для ініціалізації чи зупинки всіх елементів серверної платформи. <br/><br/> Може бути визваний тільки в точці входу в серверну платформу. <br/><br/> Не містить конфігураційних файлів. |
| server | - | - | Вхідна точка в серверну платформу реалізовує в собі ініціалізацію чи зупинку серверної платформи. | 
| vendor | - | - | Продавець призначений для надання абстрактного функціоналу агента операцій та агента наслідувань, а також загальних модулів з області призначення `common`. |

## Структура ядра

